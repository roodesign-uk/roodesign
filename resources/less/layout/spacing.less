#space {
  
  //new spacing, Oct 2019
  //based on GDS
  //use .space--{type}-{direction}-{amount[1-5]}
  //this gives `amount * [1-5]` spacing
  .space(@amount) {
    @result-old: unit((@gap * @amount / @base), rem);
    @result-new: ~"calc( var(--gap) * @{amount})";
  }

  .space-output(@type, @direction, @counter: 1) when (@counter <= @space-limit) {
    .space--@{type}-@{direction}-@{counter} {
      @{type}-@{direction}: #space > .space(@counter)[@result-old];
      @{type}-@{direction}: #space > .space(@counter)[@result-new];
    }
    #space > .space-output(@type, @direction, @counter + 1);
  }

}

#space > .space-output(margin,top);
#space > .space-output(margin,bottom);

//turn these off for now as I'm not using them
// #space > .space-output(margin,left);
// #space > .space-output(margin,right);

// #space > .space-output(padding,top);
// #space > .space-output(padding,bottom);
// #space > .space-output(padding,left);
// #space > .space-output(padding,right);

//bleeds
//only apply these on wider screens
.break-max({
    .bleed--start,
    .bleed--end {
        width: ~"calc(100% + @{gap-rem})";
        width: ~"calc(100% + var(--gap))";
    }
    .bleed--start.bleed--end {
        width: ~"calc(100% + (2 * @{gap-rem}))";
        width: ~"calc(100% + (2 * var(--gap)))";
    }
    .bleed--start {
        margin-left: -1 * @gap-rem;
        margin-left: ~"calc(-1 * var(--gap))";
    }
    .bleed--end {
        margin-right: -1 * @gap-rem;
        margin-right: ~"calc(-1 * var(--gap))";
    }
});